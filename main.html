<!DOCTYPE html>
  <head>
    <meta charset="UTF-8">
    <META HTTP-EQUIV="pragma" CONTENT="no-cache">
    <META HTTP-EQUIV="Cache-Control" CONTENT="no-store, must-revalidate">
    <script type="text/javascript" src="jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="util.js"></script>
<!--    <script type="text/javascript" src="lib.js"></script>    -->
    <script type="text/javascript" src="card_suits.js"></script>
    <script type="text/javascript" src="card.js"></script>
    <script type="text/javascript" src="manager.js"></script>
    <script type="text/javascript" src="qunit-git.js"></script>
    <link rel="stylesheet" href="qunit-git.css" type="text/css" />
    <title>Developing</title>
    <script type="application/javascript">
      var d;
      var canvas;
      var ctx;
      var manager;
      var dDummy = {
        "Heart":[1]
      , "Diamond":[]
      , "Spade":[]
      , "Club":[]
      };
      function init() {
        canvas = document.getElementById("canvas");
        if (canvas.getContext) {
          ctx = canvas.getContext("2d");
          canvas.onclick = clickEvent;
 //         canvas.onclick = getCursorPosition;
          // show cards
          /*
          var card = new Card(ctx, 1, 85, "Heart");
          card.draw(0, 20, 5);
          var card = new Card(ctx, 1, 85, "Spade");
          card.draw(0, 150, 5);
          */
          manager = new Manager(ctx);
          manager.deal(dummyDealing);

        }
      }
      
      //---------------

      test("util test", function() {
        equal(0, testC2D(4));
        equal(1, testC2D(3));
        equal(2, testC2D(2));
        equal(3, testC2D(1));
        equal(4, testC2D(0));
        equal(5, testC2D(-1));
        equal(6, testC2D(-2));
        equal(7, testC2D(-3));
        equal(8, testC2D(-4));
      });

      test("collion test", function() {
        var actual = collisonTest(new Area(100,0, 85, 100), new Pair(0,0));
        equal(false, actual);

        actual = collisonTest(new Area(0,0,85,100), new Pair(0,0));
        equal(true, actual);

        actual = collisonTest(new Area(0,0,85,100), new Pair(100,0));
        equal(false, actual);

        actual = collisonTest(new Area(0,0,85,100), new Pair(50,0));
        equal(true, actual);

        actual = collisonTest(new Area(0,0,85,100), new Pair(50,50));
        equal(true, actual);

        actual = collisonTest(new Area(0,100, 85, 100), new Pair(50,0));
        equal(false, actual);

        actual = collisonTest(new Area(0,0,85,100), new Pair(50, 120));
        equal(false, actual);

      });

      //---------------

    </script>
    <style type="text/css">
      canvas {
        border: 1px solid #AAA;
        background-image: url(desk.png);
      }
    </style>
  </head>
  <body onload="init();">
    <canvas id="canvas" width="960" height="540"></canvas>
    <button onclick="deal(ctx);">Deal</button>
    <button onclick="dealFrom(ctx, dummyDealing);">Deal From</button>
    <h2 id="qunit-banner"></h2>
    <div id="qunit-testrunner-toolbar"></div>
    <h2 id="qunit-userAgent"></h2>
    <ol id="qunit-tests"></ol>
    <div id="qunit-fixture">test markup, will be hidden</div>
  </body>
</html>
